(function(e){function t(t){for(var s,i,c=t[0],r=t[1],u=t[2],d=0,p=[];d<c.length;d++)i=c[d],n[i]&&p.push(n[i][0]),n[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,c=1;c<a.length;c++){var r=a[c];0!==n[r]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},o=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=r;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("04f5"),n=a.n(s);n.a},"04f5":function(e,t,a){},"06d4":function(e,t,a){e.exports=a.p+"img/6.1dff499f.jpg"},"211c":function(e,t,a){},"325b":function(e,t,a){"use strict";var s=a("8f68"),n=a.n(s);n.a},"3e3b":function(e,t,a){"use strict";var s=a("8188"),n=a.n(s);n.a},"3eba":function(e,t,a){},"40ef":function(e,t,a){},"514a":function(e,t,a){"use strict";var s=a("cd98"),n=a.n(s);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Root",attrs:{id:"app"}},[a("nav",{staticClass:"Navigation__list"},[a("ul",[a("li",{on:{click:function(t){e.goToAction("app-products")}}},[a("i",{staticClass:"fas fa-home"})]),a("li",{on:{click:function(t){e.goToAction("app-add")}}},[a("i",{staticClass:"fas fa-plus"})]),a("li",{on:{click:function(t){e.goToAction("app-search")}}},[a("i",{staticClass:"fas fa-search"})]),a("li",{on:{click:function(t){e.goToAction("app-edit")}}},[a("i",{staticClass:"fas fa-edit"})])])]),a("header",{staticClass:"Root__header"},[a("h5",[e._v(e._s(e._f("toUpperCase")(e.title)))])]),a("main",{staticClass:"Root__body"},[a("router-view")],1)])},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"Root__footer"},[a("nav",{staticClass:"Navigation__list"},[a("ul",[a("li",{on:{click:function(t){e.goToAction("app-home")}}},[a("i",{staticClass:"fas fa-home"})]),a("li",{on:{click:function(t){e.goToAction("app-add")}}},[a("i",{staticClass:"fas fa-plus"})]),a("li",{on:{click:function(t){e.goToAction("app-search")}}},[a("i",{staticClass:"fas fa-search"})]),a("li",{on:{click:function(t){e.goToAction("app-edit")}}},[a("i",{staticClass:"fas fa-edit"})])])])])},c=[],r=a("c93e"),u=a("2f62"),l={name:"app-footer",data:function(){return{}},computed:Object(r["a"])({},Object(u["c"])(["actions","results"])),methods:{goToAction:function(e){console.log(e),this.$router.push({name:e}),this.$store.commit("CLEAR_RESULTS_DATA")}}},d=l,p=(a("514a"),a("2877")),m=Object(p["a"])(d,i,c,!1,null,"4250a298",null),_=m.exports,v={data:function(){return{title:"Visualizador de Base de Datos"}},computed:{},methods:{goToAction:function(e){this.$router.push({name:e}),this.$store.commit("CLEAR_RESULTS_DATA")}},components:{"app-footer":_},filters:{toUpperCase:function(e){return e.toUpperCase()}}},f=v,b=(a("034f"),Object(p["a"])(f,n,o,!1,null,null,null)),h=b.exports,g=a("8c4f"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Search"},[e.search.selected?e._e():a("div",{staticClass:"Search__selection"},[a("button",{staticClass:"button Search__button",on:{click:function(t){e.changeSearchType("keywords")}}},[e._v("Palabras Clave")]),a("button",{staticClass:"button Search__button",on:{click:function(t){e.changeSearchType("text")}}},[e._v("Descripción")])]),a("div",{staticClass:"Search__header"},[e.search.type[0].active?a("div",{staticClass:"Search__input"},[a("label",{attrs:{for:"query"}},[e._v("Escribe palabras clave")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",id:"query",autofocus:""},domProps:{value:e.query},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchKeyword(e.query)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),a("button",{staticClass:"Search__button button__small",on:{click:function(t){e.searchKeyword()}}},[e._v("Buscar")])]):e._e(),e.search.type[1].active?a("div",{staticClass:"Search__input"},[a("h1",[e._v("text")])]):e._e(),a("div",{staticClass:"Search__preview"},[a("h6",[e._v(e._s(e.db.message))]),a("p",[e._v(e._s(e.query))])])]),a("div",{staticClass:"Search__results"},e._l(e.results,function(e,t){return a("product-card",{key:"product"+t,attrs:{info:{product:e,index:t}}})})),e.actions[1].status?a("app-confirm"):e._e()],1)},w=[],y=(a("7f7f"),a("386d"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Confirmation container__absolute"},[a("div",{staticClass:"Confirmation__container"},[a("h3",{staticClass:"Confirmation__heading"},[e._v("¿Continuar?")]),a("button",{staticClass:"button__small button-danger",on:{click:function(t){e.executeAction()}}},[e._v("Si")]),a("button",{staticClass:"button__small button-primary",on:{click:function(t){e.cancelAction()}}},[e._v("No")])])])}),S=[],A={name:"app-confirm",data:function(){return{}},computed:Object(r["a"])({},Object(u["c"])(["db","actions","activeAction"])),methods:Object(r["a"])({},Object(u["b"])(["addProductToDatabase","removeProductsFromDatabase","changeActionStatus"]),{executeAction:function(){switch(this.activeAction.name){case"add":this.addProductToDatabase(this.payload);break;case"update":break;case"remove":this.removeProductsFromDatabase();break}},cancelAction:function(){this.changeActionStatus({name:"remove",payload:null})}}),created:function(){},props:["appAction","payload"]},E=A,T=(a("f9c4"),Object(p["a"])(E,y,S,!1,null,"9e273c26",null)),I=T.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ProductCard"},[a("div",{staticClass:"ProductCard__preview",on:{click:function(t){e.toggleProductView(e.info.product)}}},[e._m(0),a("h5",[e._v(e._s(e.info.product.title))]),a("h6",[a("strong",[e._v("VALOR:")]),e._v(" "+e._s(e._f("convertToCurrency")(e.info.product.rates.pvp.unit)))])])])},D=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ProductCard__image"},[s("img",{attrs:{src:a("06d4"),alt:"image.caption"}})])}],P=(a("a481"),a("6b54"),a("28a5"),{name:"product-card",data:function(){return{clicked:!1}},computed:Object(r["a"])({},Object(u["c"])(["products"])),methods:Object(r["a"])({},Object(u["b"])(["changeActionStatus","toggleProductView"]),{removeProduct:function(e){this.changeActionStatus({name:"remove",payload:e})},editProduct:function(e){console.log("edit",this.info.product),this.changeActionStatus({name:"edit",payload:this.info.product}),this.$router.push("edit")}}),props:["info"],filters:{sliceSnippet:function(e){return e.slice(0,50)},convertToCurrency:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"€ ".concat(t.join("."))}}}),j=P,x=(a("6a38"),Object(p["a"])(j,O,D,!1,null,"44cb5425",null)),$=x.exports,k={name:"app-search",components:{"app-confirm":I,"product-card":$},data:function(){return{search:{type:[{name:"text",active:!1},{name:"keywords",active:!1}],selected:!1},query:""}},computed:Object(r["a"])({},Object(u["c"])(["products","results","db","actions"])),methods:Object(r["a"])({},Object(u["b"])(["queryDatabase","getKeywordsFromDatabase"]),{toogleButtons:function(e,t){this.search.type.forEach(function(e){e.active=!1}),this.search.type.filter(function(t){return t.name===e}).map(function(e){e.active=!e.active}),this.search.selected=!0,t()},changeSearchType:function(e){var t=this;this.toogleButtons(e,function(){"keywords"===e&&t.getKeywordsFromDatabase()})},searchKeyword:function(){this.queryDatabase(this.query)}})},q=k,U=(a("b5f4"),Object(p["a"])(q,C,w,!1,null,"ceaa8a4a",null)),N=U.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Add"},[a("div",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"form__header"},[a("h3",[e._v("Agregar un producto")]),a("h5",[e._v(e._s(e.db.message))])]),a("section",{staticClass:"Add__section Add__section-rates"},[a("fieldset",[a("legend",[e._v("Descripciones")]),a("div",{staticClass:"fieldset fieldset__description"},[a("div",[a("label",{staticClass:"fieldset__label"},[e._v("Modelo")]),a("div",{staticClass:"fieldset__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.modelo,expression:"newItem.modelo"}],attrs:{type:"number",autofocus:"",placeholder:"Por ejemplo, 12340",name:"modelo",required:""},domProps:{value:e.newItem.modelo},on:{input:function(t){t.target.composing||e.$set(e.newItem,"modelo",t.target.value)}}})])]),a("div",[a("label",{staticClass:"fieldset__label",attrs:{for:"description"}},[e._v("Larga")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newItem.description,expression:"newItem.description"}],staticClass:"fieldset__input-side",attrs:{type:"text",cols:"30",rows:"6",name:"description"},domProps:{value:e.newItem.description},on:{input:function(t){t.target.composing||e.$set(e.newItem,"description",t.target.value)}}})]),a("div",[a("label",{staticClass:"fieldset__label",attrs:{for:"title"}},[e._v("Corta")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newItem.title,expression:"newItem.title"}],staticClass:"fieldset__input-side",attrs:{type:"text",cols:"30",rows:"6",placeholder:"nombreDelArchivo.jpg",name:"title"},domProps:{value:e.newItem.title},on:{input:function(t){t.target.composing||e.$set(e.newItem,"title",t.target.value)}}})])])])]),a("section",{staticClass:"Add__section Add__section-specs"},[a("fieldset",[a("legend",[e._v("Especificaciones")]),a("div",{staticClass:"fieldset"},[a("div",{staticClass:"fieldset fieldset__collection"},[a("h4",[e._v("Cantidades")]),a("span",{staticClass:"fieldset__label",attrs:{for:"isCollection"}},[e._v("¿Es una colección?")]),a("div",{staticClass:"fieldset__input"},[a("label",{attrs:{for:"isCollection"}},[e._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.specs.amount.collection.isCollection,expression:"newItem.specs.amount.collection.isCollection"}],attrs:{name:"isCollection",type:"radio"},domProps:{value:e._f("valueOfRadioInput")(1),checked:e._q(e.newItem.specs.amount.collection.isCollection,e._f("valueOfRadioInput")(1))},on:{change:function(t){e.$set(e.newItem.specs.amount.collection,"isCollection",e._f("valueOfRadioInput")(1))}}}),a("label",{attrs:{for:"cost"}},[e._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.specs.amount.collection.isCollection,expression:"newItem.specs.amount.collection.isCollection"}],attrs:{name:"isCollection",type:"radio"},domProps:{value:e._f("valueOfRadioInput")(0),checked:e._q(e.newItem.specs.amount.collection.isCollection,e._f("valueOfRadioInput")(0))},on:{change:function(t){e.$set(e.newItem.specs.amount.collection,"isCollection",e._f("valueOfRadioInput")(0))}}})]),a("span",{staticClass:"fieldset__label-side"},[e._v("¿Cuántos por colección?")]),a("div",{staticClass:"fieldset__input-side"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.amount.collection.units,expression:"newItem.specs.amount.collection.units",modifiers:{number:!0}}],staticClass:"AddSpecs__amount--input input__number",attrs:{type:"number",name:"amoun.collection.units"},domProps:{value:e.newItem.specs.amount.collection.units},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.amount.collection,"units",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),a("span")]),a("label",{staticClass:"fieldset__label",attrs:{for:"amount.units"}},[e._v("¿Cuántas unidades?")]),a("div",{staticClass:"fieldset__input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.amount.units,expression:"newItem.specs.amount.units",modifiers:{number:!0}}],staticClass:"AddSpecs__amount--input input__number",attrs:{type:"number",min:"1",name:"amount.units",required:""},domProps:{value:e.newItem.specs.amount.units},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.amount,"units",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),a("span")])]),a("div",{staticClass:"fieldset fieldset__specs"},[a("h4",[e._v("Historia")]),a("label",{staticClass:"fieldset__label"},[e._v("Diseñador")]),a("div",{staticClass:"fieldset__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.newItem.specs.designer.name,expression:"newItem.specs.designer.name"}],staticClass:"AddSpecs__datalist",attrs:{type:"text",name:"designer.name"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newItem.specs.designer,"name",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Escoge un diseñador")]),e._l(e.options.designers,function(t,s){return a("option",{key:"designer#"+s,domProps:{value:e._f("toLowerCase")(t.name)}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])})],2),a("span")]),a("label",{staticClass:"fieldset__label"},[e._v("Fabricante")]),a("div",{staticClass:"fieldset__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.newItem.specs.manufacturer.name,expression:"newItem.specs.manufacturer.name"}],staticClass:"AddSpecs__datalist",attrs:{type:"text",name:"manufacturer.name"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.newItem.specs.manufacturer,"name",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Escoge un fabricante")]),e._l(e.options.manufacturers,function(t,s){return a("option",{key:"manufacturer#"+s,domProps:{value:e._f("toLowerCase")(t.name)}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])})],2),a("span")])]),a("div",{staticClass:"fieldset fieldset__measures"},[a("h4",[e._v("Medidas")]),e._m(0),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.measures.weight,expression:"newItem.specs.measures.weight",modifiers:{number:!0}}],staticClass:"input__number fieldset__input",attrs:{type:"number",name:"measures.weight"},domProps:{value:e.newItem.specs.measures.weight},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.measures,"weight",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._m(1),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.measures.height,expression:"newItem.specs.measures.height",modifiers:{number:!0}}],staticClass:"input__number fieldset__input",attrs:{type:"number",name:"measures.height"},domProps:{value:e.newItem.specs.measures.height},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.measures,"height",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._m(2),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.measures.long,expression:"newItem.specs.measures.long",modifiers:{number:!0}}],staticClass:"input__number fieldset__input",attrs:{type:"number",name:"measures.long"},domProps:{value:e.newItem.specs.measures.long},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.measures,"long",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._m(3),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.specs.measures.width,expression:"newItem.specs.measures.width",modifiers:{number:!0}}],staticClass:"input__number fieldset__input",attrs:{type:"number",name:"measures.width"},domProps:{value:e.newItem.specs.measures.width},on:{input:function(t){t.target.composing||e.$set(e.newItem.specs.measures,"width",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])])])]),a("section",{staticClass:"Add__section Add__section-setup"},[a("fieldset",[a("legend",[e._v("Valores")]),a("div",{staticClass:"fieldset fieldset__rates"},[a("div",{staticClass:"fieldset__rates"},[a("h4",[e._v("Precios de venta al público")]),a("label",{staticClass:"fieldset__label",attrs:{for:"pvp.unit"}},[e._v("Unidad")]),a("div",{staticClass:"fieldset__input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.rates.pvp.unit,expression:"newItem.rates.pvp.unit",modifiers:{number:!0}}],staticClass:"input__number",attrs:{min:"1",type:"number",placeholder:"€",name:"pvp.unit",required:""},domProps:{value:e.newItem.rates.pvp.unit},on:{input:function(t){t.target.composing||e.$set(e.newItem.rates.pvp,"unit",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),a("span"),a("br")]),a("label",{staticClass:"fieldset__label-side",attrs:{for:"pvp.collection"}},[e._v("Colección")]),a("div",{staticClass:"fieldset__input-side"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.rates.pvp.collection,expression:"newItem.rates.pvp.collection",modifiers:{number:!0}}],staticClass:"input__number",attrs:{type:"number",placeholder:"€",name:"pvp.collection"},domProps:{value:e.newItem.rates.pvp.collection},on:{input:function(t){t.target.composing||e.$set(e.newItem.rates.pvp,"collection",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),a("span")])]),a("div",[a("h4",[e._v("Costos")]),a("label",{staticClass:"fieldset__label",attrs:{for:"cost"}},[e._v("Costos")]),a("div",{staticClass:"fieldset__input"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newItem.rates.cost,expression:"newItem.rates.cost",modifiers:{number:!0}}],staticClass:"input__number",attrs:{type:"number",placeholder:"€",name:"cost"},domProps:{value:e.newItem.rates.cost},on:{input:function(t){t.target.composing||e.$set(e.newItem.rates,"cost",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),a("span")])]),a("div",[a("h4",[e._v("Categorías")]),a("label",[e._v("Principal")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.setup.family,expression:"newItem.setup.family"}],attrs:{placeholder:"Escribe una (1) palabra",name:"family",required:""},domProps:{value:e.newItem.setup.family},on:{input:function(t){t.target.composing||e.$set(e.newItem.setup,"family",t.target.value)}}}),a("span")]),a("label",[e._v("Secundaria")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.setup.category,expression:"newItem.setup.category"}],attrs:{placeholder:"Escribe otra",name:"category",required:""},domProps:{value:e.newItem.setup.category},on:{input:function(t){t.target.composing||e.$set(e.newItem.setup,"category",t.target.value)}}}),a("span")]),a("label",[e._v("Otra")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem.setup.subcategory,expression:"newItem.setup.subcategory"}],attrs:{placeholder:"Esta no es necesaria",name:"subcategory"},domProps:{value:e.newItem.setup.subcategory},on:{input:function(t){t.target.composing||e.$set(e.newItem.setup,"subcategory",t.target.value)}}}),a("span")])])])])]),a("section",{staticClass:"Add__section-submit"},[a("button",{staticClass:"button__small button-primary Add__submit",on:{click:function(t){e.submitItem()}}},[e._v("Agregar producto")])])])])},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"fieldset__label"},[e._v("Peso "),a("span",[a("em",[e._v("(gr)")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"fieldset__label"},[e._v("Altura "),a("span",[a("em",[e._v("(cm)")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"fieldset__label"},[e._v("Largo "),a("span",[a("em",[e._v("(cm)")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"fieldset__label"},[e._v("Ancho "),a("span",[a("em",[e._v("(cm)")])])])}],B={name:"app-add",data:function(){return{options:{designers:[{name:"John Doe",value:"john doe"}],manufacturers:[{name:"Coca Cola",value:"cocacola"}],colors:[{name:"red",value:"rojo"}]},newItem:{title:"ALAMBRE DE MARMOL",model:999888,description:"",rates:{pvp:{unit:23},costs:0},setup:{family:"",category:"",subcategory:""},specs:{amount:{collection:{isCollection:!1,units:0},units:0},designer:"",manufacturer:"",measures:{weight:"",height:"",long:"",width:""},year:1e3,color:"",odor:"olor lima"},notes:""}}},computed:Object(r["a"])({},Object(u["c"])(["db"])),methods:Object(r["a"])({},Object(u["b"])(["addProductToDatabase"]),{submitItem:function(){console.log("COMPONENT: ",this.newItem),this.addProductToDatabase([this.newItem])}}),filters:{valueOfRadioInput:function(e){return!!e},toLowerCase:function(e){return e.toLowerCase()}}},M=B,G=(a("bfeb"),Object(p["a"])(M,R,L,!1,null,null,null)),F=G.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Edit"},[e.isActiveAction?a("div",{staticClass:"Edit__active"},[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("h3",[e._v("Editar un producto")]),a("h5",[e._v(e._s(e.db.message))]),a("h3",[e._v("ID: "+e._s(e.product.id))]),a("fieldset",{staticClass:"Edit__input"},[a("legend",[e._v("Valor: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.product.value,expression:"product.value"}],attrs:{type:"numer",name:"value",required:""},domProps:{value:e.product.value},on:{input:function(t){t.target.composing||e.$set(e.product,"value",t.target.value)}}})]),a("fieldset",{staticClass:"Edit__input"},[a("legend",[e._v("Imagen: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.product["img_name"],expression:"product['img_name']"}],attrs:{type:"text",name:"img_name"},domProps:{value:e.product["img_name"]},on:{input:function(t){t.target.composing||e.$set(e.product,"img_name",t.target.value)}}})]),a("fieldset",{staticClass:"Edit__input"},[a("legend",[e._v("Descripción: ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.product.description,expression:"product.description"}],attrs:{cols:"22",rows:"6",name:"description"},domProps:{value:e.product.description},on:{input:function(t){t.target.composing||e.$set(e.product,"description",t.target.value)}}})]),a("button",{staticClass:"button__small Edit__submit",on:{click:function(t){e.submitItem()}}},[e._v("Editar producto")])])]):e._e(),e.isActiveAction?e._e():a("div",{staticClass:"Edit__inactive"},[a("h1",[e._v("Busca un producto que editar:")]),a("hr"),a("br"),a("br"),a("button",{staticClass:"button Edit__submit",on:{click:function(t){e.goToSearch()}}},[e._v("Buscar")])])])},K=[],J=(a("f751"),a("456d"),{name:"app-edit",data:function(){return{isActiveAction:!1,product:{}}},computed:Object(r["a"])({},Object(u["c"])(["db","activeAction"])),methods:Object(r["a"])({},Object(u["b"])(["editProductFromDatabase"]),{isEmpty:function(){var e=this.activeAction,t=0===Object.keys(e).length&&e.constructor===Object;t||(this.isActiveAction=!0)},setProductData:function(){this.product=Object.assign({},this.activeAction.payload)},goToSearch:function(){this.$router.push("search")},submitItem:function(){console.log("COMPONENT: ",this.product),this.editProductFromDatabase(this.product)}}),created:function(){this.isEmpty(),this.setProductData()}}),Q=J,Y=(a("d572"),Object(p["a"])(Q,V,K,!1,null,null,null)),W=Y.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("Test ADD")])},H=[],X={name:"remove",data:function(){return{actions:["search","add","edit","remove"]}}},Z=X,ee=(a("a253"),Object(p["a"])(Z,z,H,!1,null,null,null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Products container__component"},[e._m(0),a("app-search"),0!==e.results.length?a("div",{staticClass:"Search__results"},e._l(e.results,function(e,t){return a("product-card",{key:"productCard#"+t,attrs:{info:{product:e,index:t}}})})):e._e(),a("transition",{attrs:{name:"fade"}},[a("product-full")],1),e.actions[1].status?a("app-confirm"):e._e()],1)},se=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Products__header"},[a("h1",[e._v("Productos")])])}],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Search"},[a("div",{staticClass:"Search__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",id:"query",autofocus:"",placeholder:"Palabras clave"},domProps:{value:e.query},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchKeyword(e.query)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),a("span",{on:{click:function(t){e.searchKeyword(e.query)}}},[a("i",{staticClass:"fas fa-search"})])]),a("div",{staticClass:"Search__type"},[a("select",{attrs:{name:"searchType"}},e._l(e.search.type,function(t,s){return a("option",{key:"option#"+s,attrs:{value:""}},[e._v(e._s(t.title))])}))]),e._m(0)])},oe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Search__button"},[a("button",{staticClass:"Search__button-add"},[e._v("Añadir producto")])])}],ie={name:"app-search",components:{"app-confirm":I,"product-card":$},data:function(){return{search:{type:[{title:"Descripción",name:"description",active:!1},{title:"Modelo",name:"model",active:!1},{title:"Diseño",name:"designer",active:!1},{title:"Fabricante",name:"manufacturer",active:!1},{title:"Color",name:"color",active:!1},{title:"Material",name:"material",active:!1}],selected:!1},query:""}},computed:Object(r["a"])({},Object(u["c"])(["products","results","db","actions"])),methods:Object(r["a"])({},Object(u["b"])(["queryDatabase","getKeywordsFromDatabase"]),{toogleButtons:function(e,t){this.search.type.forEach(function(e){e.active=!1}),this.search.type.filter(function(t){return t.name===e}).map(function(e){e.active=!e.active}),this.search.selected=!0,t()},changeSearchType:function(e){var t=this;this.toogleButtons(e,function(){"keywords"===e&&t.getKeywordsFromDatabase()})},searchKeyword:function(){this.queryDatabase(this.query)}})},ce=ie,re=(a("325b"),Object(p["a"])(ce,ne,oe,!1,null,"bbc7a2a6",null)),ue=re.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.products.views[1].active?a("div",{staticClass:"container__absolute"},[a("div",{staticClass:"ProductFull"},[a("section",{staticClass:"ProductFull__header"},[a("button",{staticClass:"button__small",on:{click:function(t){e.toggleProductView()}}},[e._v("atrás")]),a("hr"),a("h1",[e._v(e._s(e.products.views[1].item.title))])]),a("section",{staticClass:"ProductFull__specs"},[a("span",[e._v("MODELO:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.model))]),a("span",[e._v("DESCRIPCION:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.description))]),a("span",[e._v("PVP-UNIDAD:")]),a("h3",[e._v(" "+e._s(e._f("convertToCurrency")(e.products.views[1].item.rates.pvp.unit)))]),a("span",[e._v("CANTIDAD:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.specs.amount.units))]),a("span",[e._v("COLOR:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.specs.color))]),a("span",[e._v("DISEÑADOR:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.specs.designer||""))]),a("span",[e._v("AÑO:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.specs.year||""))]),a("span",[e._v("EN LA TIENDA DESDE:")]),a("h3",[e._v(" "+e._s(e.products.views[1].item.specs.year||""))])]),e._m(0),a("section",{staticClass:"ProductFull__button-container"},[a("button",{staticClass:"button__small button-danger",on:{click:function(t){e.removeProduct(e.info.product._id)}}},[e._v("Eliminar")]),a("button",{staticClass:"button__small button-info",on:{click:function(t){e.editProduct(e.info.product._id)}}},[e._v("Editar")])])])]):e._e()},de=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"ProductFull__image"},[s("img",{attrs:{src:a("06d4"),alt:"image.caption"}})])}],pe={name:"product-card",data:function(){return{clicked:!1}},computed:Object(r["a"])({},Object(u["c"])(["products"])),methods:Object(r["a"])({},Object(u["b"])(["changeActionStatus","toggleProductView"]),{removeProduct:function(e){this.changeActionStatus({name:"remove",payload:e})},editProduct:function(e){console.log("edit",this.info.product),this.changeActionStatus({name:"edit",payload:this.info.product}),this.$router.push("edit")}}),props:["info"],filters:{sliceSnippet:function(e){return e.slice(0,50)},convertToCurrency:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),"€ ".concat(t.join("."))}}},me=pe,_e=(a("3e3b"),Object(p["a"])(me,le,de,!1,null,"b9984750",null)),ve=_e.exports,fe={name:"app-products",data:function(){return{}},computed:Object(r["a"])({},Object(u["c"])(["products","results","db","actions"])),methods:Object(r["a"])({},Object(u["b"])(["queryDatabase","getKeywordsFromDatabase","getProductsFromDatabase"])),components:{"app-confirm":I,"product-card":$,"product-full":ve,"app-search":ue}},be=fe,he=(a("665f"),Object(p["a"])(be,ae,se,!1,null,"d69feec4",null)),ge=he.exports;s["a"].use(g["a"]);var Ce=new g["a"]({routes:[{path:"/",name:"app-products",component:ge},{path:"/search",name:"app-search",component:N},{path:"/add",name:"app-add",component:F},{path:"/edit",name:"app-edit",component:W},{path:"/remove",name:"app-remove",component:te}]}),we=a("6bde"),ye=a("bc3a"),Se=a.n(ye);s["a"].use(u["a"]);var Ae=function(e){return null!==e&&"object"===Object(we["a"])(e)},Ee=new u["a"].Store({state:{keywords:[],products:{views:[{name:"card",active:!0,item:{}},{name:"full",active:!1,item:{}}]},results:[],actions:[{name:"add",payload:"",status:!1},{name:"remove",payload:"",status:!1},{name:"edit",payload:"",status:!1},{name:"search",payload:"",status:!1}],db:{message:"",error:!1},activeAction:{}},getters:{getActiveAction:function(e){return e.actions.filter(function(e){return e.status})[0]}},mutations:{SET_RESULTS_DATA:function(e,t){e.results=t},SET_QUERY_RESULTS:function(e,t){e.results=t},CLEAR_RESULTS_DATA:function(e){e.results=[]},SET_DB_MESSAGE:function(e,t){e.db.message=t},SET_DB_STATUS:function(e,t){e.db.error=t},TOGGLE_ACTION_STATUS:function(e,t){var a=t.name,s=t.payload;e.actions.filter(function(e){return e.name===a}).forEach(function(e){e.payload=s,e.status=!e.status})},SET_ACTIVE_ACTION:function(e,t){e.activeAction=Object.assign({},t)},TOGGLE_PRODUCT_VIEW:function(e,t){var a=e.products;a.views.forEach(function(e){e.active=!e.active,Ae(t)?e.item=Object.assign({},t):e.item={}})}},actions:{requestApi:function(e,t){var a=t.service,s=t.payload,n=t.table;switch(a){case"getAll":return Se.a.create().get("/products");case"query":return Se.a.create().post("/products/query",{query:s});case"keywords":return Se.a.create().get("/api/parse/count");case"add":return Se.a.create().post("/products/add",s.product);case"update":return Se.a.create().put("/products/update/".concat(s.id),{prop:{description:s.description,value:s.value},table:n});case"remove":return Se.a.create().delete("/products/delete/".concat(s))}},getProductsFromDatabase:function(e){var t=e.dispatch,a=e.commit,s={service:"getAll",payload:null};t("requestApi",s).then(function(e){a("SET_RESULTS_DATA",e.data)})},queryDatabase:function(e,t){var a=e.dispatch,s=e.commit;s("CLEAR_RESULTS_DATA");var n={service:"query",payload:t};a("requestApi",n).then(function(e){s("SET_QUERY_RESULTS",e.data),s("SET_DB_MESSAGE","Resultados de la búsqueda"),s("SET_DB_STATUS",!1)}).catch(function(e){s("SET_DB_MESSAGE","No hay resultados."),s("SET_DB_STATUS",!0)})},getKeywordsFromDatabase:function(e){var t=e.dispatch,a=e.commit;a("CLEAR_RESULTS_DATA");var s={service:"keywords"};t("requestApi",s).then(function(e){a("SET_QUERY_RESULTS",e.body),a("SET_DB_MESSAGE","Resultados de la búsqueda"),a("SET_DB_STATUS",!1)}).catch(function(e){a("SET_DB_MESSAGE","No hay resultados."),a("SET_DB_STATUS",!0)})},addProductToDatabase:function(e,t){var a=e.dispatch,s=e.commit,n="products",o={service:"add",payload:{product:t,table:n}};a("requestApi",o).then(function(e){s("SET_DB_MESSAGE","Item añadido"),s("SET_DB_STATUS",!1)}).catch(function(e){s("SET_DB_MESSAGE","Error al añadir."),s("SET_DB_STATUS",!0)})},removeProductsFromDatabase:function(e){var t=e.state,a=e.dispatch,s=e.commit,n={service:"remove",payload:t.activeAction.payload};a("requestApi",n).then(function(e){s("SET_DB_MESSAGE","Item borrado"),s("SET_DB_STATUS",!1),s("TOGGLE_ACTION_STATUS",{name:"remove",payload:null}),s("CLEAR_RESULTS_DATA")}).catch(function(e){s("SET_DB_MESSAGE","Error al borrar."),s("SET_DB_STATUS",!0)})},editProductFromDatabase:function(e,t){var a=e.dispatch,s=e.commit,n=(e.state,{service:"update",payload:t,table:"products"});a("requestApi",n).then(function(e){s("SET_DB_MESSAGE","Item editado"),s("SET_DB_STATUS",!1),s("TOGGLE_ACTION_STATUS",{name:"edit",payload:null}),s("CLEAR_RESULTS_DATA")}).catch(function(e){s("SET_DB_MESSAGE","Error al editar el objeto."),s("SET_DB_STATUS",!0)})},changeActionStatus:function(e,t){var a=e.getters,s=e.commit;s("TOGGLE_ACTION_STATUS",t);var n=a.getActiveAction;s("SET_ACTIVE_ACTION",n)},toggleProductView:function(e,t){var a=e.commit;a("TOGGLE_PRODUCT_VIEW",t)}}});s["a"].config.productionTip=!1,new s["a"]({router:Ce,store:Ee,render:function(e){return e(h)}}).$mount("#app")},"5c0f":function(e,t,a){},"665f":function(e,t,a){"use strict";var s=a("f7db"),n=a.n(s);n.a},"6a38":function(e,t,a){"use strict";var s=a("7e88"),n=a.n(s);n.a},"7e88":function(e,t,a){},8188:function(e,t,a){},"8f68":function(e,t,a){},a253:function(e,t,a){"use strict";var s=a("5c0f"),n=a.n(s);n.a},b5f4:function(e,t,a){"use strict";var s=a("40ef"),n=a.n(s);n.a},bfeb:function(e,t,a){"use strict";var s=a("211c"),n=a.n(s);n.a},cd98:function(e,t,a){},d12d:function(e,t,a){},d572:function(e,t,a){"use strict";var s=a("3eba"),n=a.n(s);n.a},f7db:function(e,t,a){},f9c4:function(e,t,a){"use strict";var s=a("d12d"),n=a.n(s);n.a}});
//# sourceMappingURL=app.57ab490e.js.map